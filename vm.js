function createVMFile(scriptName, scriptCode) {
    // Create a fake source map data
    const fakeSourceMap = {
      version: 3,
      file: scriptName,
      sources: [scriptName],
      sourcesContent: [scriptCode],
      mappings: "AAAA,SAASA,CAAA"
    };
  
    // Convert the source map object to a JSON string
    const sourceMapJson = JSON.stringify(fakeSourceMap);
  
    // Encode the JSON string to base64
    const base64SourceMap = btoa(sourceMapJson);
  
    // Combine the JavaScript code and the sourceMappingURL comment
    const combinedCode = `
      ${scriptCode}
      
      //# sourceMappingURL=data:application/json;base64,${base64SourceMap}
    `;
  
    // Create a script element and set its content to the combined code
    const script = document.createElement("script");
    script.textContent = combinedCode;
  
    // Set the script's name if provided
    if (scriptName) {
      script.setAttribute("name", scriptName);
    }
    const nonceElement = document.querySelector("[nonce]"); // nonce will bypass CSP
      if (nonceElement) {
          script.nonce = nonceElement.nonce;
      }
  
    document.body.appendChild(script)
  }