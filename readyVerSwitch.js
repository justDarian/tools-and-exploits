window.iReadyVersion = '/release-2.17.x/3/'
window.smallIReadyVersion = '2.17.4'
window.changeVersion = () => {
    window.nonce = document.querySelector("[nonce]").nonce //save before override
    document.write(`<head></head><body><div id="root"></div><script nonce=`+ window.nonce + `>/*<![CDATA[*/ var transferKey = ''; var ip = ''; /*]]>*/ </script></body>`) //overide head
    //CSS Loader
    var ireadycss=document.createElement('link');
    ireadycss.rel='stylesheet';
    ireadycss.href=`https://cdn.i-ready.com/instruction/student-dashboard` + window.iReadyVersion + `static/css/main.chunk.css`;
    document.getElementsByTagName("head")[0].appendChild(ireadycss);

    //JS Loader
    document.head.appendChild(Object.assign(document.createElement("script"), {
        src: `//cdn.i-ready.com/client/js/i-ready.js?version=` + window.smallIReadyVersion,
        nonce: document.querySelector("[nonce]").nonce,
        onerror: console.error
    }))
    document.head.appendChild(Object.assign(document.createElement("script"), {
        src: `//cdn.i-ready.com/instruction/student-dashboard` + window.iReadyVersion + `static/js/app.js`,
        nonce: document.querySelector("[nonce]").nonce,
        onerror: console.error
    }))
    document.head.appendChild(Object.assign(document.createElement("script"), {
        src: `//cdn.i-ready.com/instruction/student-dashboard` + window.iReadyVersion + `static/js/app-vendor.chunk.js`,
        nonce: document.querySelector("[nonce]").nonce,
        onerror: console.error
    }))
    document.head.appendChild(Object.assign(document.createElement("script"), {
        src: `//cdn.i-ready.com/instruction/student-dashboard` + window.iReadyVersion + `static/js/app-main.chunk.js`,
        nonce: document.querySelector("[nonce]").nonce,
        onerror: console.error
    }))
    console.log('Successfully loaded version: ' + smallIReadyVersion)
}
window.eval = () => {}; // bypass debugger
changeVersion();
console.clear()
